import{_ as aa,u as ta,p as oa,r as V,B as na,h as B,m as x,q as sa,s as ua,i as p,o as E,j as ra,k as a,l,a as r,C as i,y as o,z as b,e as f,c as U,t as c,d as qe,f as da,F as ma}from"./app-dea674a6.js";import{c as Te,a as ze,d as ia,u as va,g as d,i as fa,h as Z,E as ca}from"./index.esm-6efb83c4.js";import{u as pa}from"./useSortable-eb5b07a3.js";const _a={class:"info-flex-container"},Va={class:"box"},ga={key:0,class:"mt-2"},ba={key:0},ya={key:1,class:"mt-2"},wa={class:"mt-4"},ka={id:"invoiceitems"},xa={style:{flex:"4","justify-content":"start"}},Ea={class:"item-total"},Na={class:"flex-container footer"},Ca={key:0,style:{"font-weight":"bold"}},Ua={key:1,style:{"font-weight":"bold"}},Fa={style:{"font-weight":"bold"}},$a={__name:"InvoiceEdit",setup(Sa){let h=[];const De=ta(),Oe=oa(),F=V(),$=V(!1);F.value=De.params.number,V("");const we=V([]);V();const y=V(!1),q=V(!1),Le=V(null);Te({email:ze().required().email()});function Ge(){const n={description:"",quantity:0,discount:0,taxRate:21,price:0,order:1};Kl(n),h.push(n)}V(!1);const Je=na(),Qe=()=>{y.value=!y.value,console.log(y.value)},Xe=async()=>{let n=j.value||" "+P.value||" "+I.value||"";const e={firstname:j.value,affix:P.value,lastname:I.value,company_name:te.value,street_name:oe.value,house_number:ne.value,house_number_extension:se.value,postalcode:ue.value,city:re.value,country:de.value,phone:me.value,mobile:jl.value,email:ie.value,kvk:ve.value,vat:fe.value,full_name:n},u=await x.post("/api/contacts",{contact:e});e.id=u.data.id,je.value.push(e),n={full_name:j.value||" "+P.value||" "+I.value||"",value:u.data.id},pe(n),ke(e.firstname),Ee(e.lastname),xe(e.affix),Ne(e.company_name),Ce(e.street_name),Ue(e.house_number),Fe(e.postalcode),$e(e.city),Se(e.country),vl(e.phone),pl(e.mobile),_l(e.email),gl(e.kvk),yl(e.vat)},Ye=async()=>{const n={id:N.value.value,firstname:T.value,affix:L.value,lastname:A.value,company_name:S.value,street_name:K.value,house_number:R.value,house_number_extension:H.value,postalcode:W.value,city:z.value,country:ae.value,phone:D.value,mobile:cl.value,email:O.value,kvk:G.value,vat:J.value},e=await x.put("/api/contacts",{contact:n}),u={full_name:(e.data.firstname?e.data.firstname+" ":"")+(e.data.affix?e.data.affix+" ":"")+e.data.lastname,value:e.data.id};pe(u)};B(()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost",handle:".handle",forceFallback:!0}));const ee=V(!1),le=V(!1),Ze=Te().shape({items:ia().of(Te().shape({description:ze().required().label("Beschrijving")})).strict()}),he=async()=>{(await x.delete("/api/invoices/"+Le.value)).data.status=="deleted"?Oe.push("/facturen"):alert("Factuur verwijderen is mislukt")},el=()=>{q.value=!0},ll=n=>{console.log("contact select changed");const e={full_name:n.firstname||" "+n.affix||" "+n.lastname,value:n.id};pe(e),ke(n.firstname),Ee(n.lastname),xe(n.affix),Ne(n.company_name),Ce(n.street_name),Ue(n.house_number),Fe(n.postalcode),$e(n.city),Se(n.country)},{handleSubmit:al,handleReset:ja,errors:Pa}=va({validationSchema:Ze}),Ae=al(async n=>{const e=document.querySelectorAll("#invoiceitems > div"),u=[];for(const s of e){const M=s.querySelectorAll(":scope > input"),_=s.querySelector(":scope textarea"),w={};for(const C of M)w[C.dataset.name]=C.value;w.description=_.value,u.push(w)}console.log(u),n.items=u,n.ismargin=y.value,await x.put("/api/invoices/"+F.value,n)});V({firstname:null,affix:null,lastname:null,company_name:null,street_name:null,house_number:null,house_number_extension:null,postalcode:null,city:null,country:null,phone:null,mobile:null,email:null,kvk:null,vat:null,title:""});const{value:T,setValue:ke,errors:tl}=d("firstname","required|min:8"),{value:L,setValue:xe,errors:ol}=d("affix"),{value:A,setValue:Ee,errors:nl}=d("lastname"),{value:S,setValue:Ne,errors:sl}=d("company_name"),{value:K,setValue:Ce,errors:ul}=d("street_name"),{value:R,setValue:Ue,errors:rl}=d("house_number"),{value:H,setValue:Ia,errors:dl}=d("house_number_extension"),{value:W,setValue:Fe,errors:Ma}=d("postalcode"),{value:z,setValue:$e,errors:ml}=d("city"),{value:ae,setValue:Se,errors:il}=d("country"),{value:D,setValue:vl,errors:fl}=d("phone"),{value:cl,setValue:pl,errors:Ba}=d("mobile"),{value:O,setValue:_l,errors:Vl}=d("email"),{value:G,setValue:gl,errors:bl}=d("kvk"),{value:J,setValue:yl,errors:wl}=d("vat"),{value:j,setValue:qa,errors:kl}=d("new_firstname","required|min:8"),{value:P,setValue:Ta,errors:xl}=d("new_affix"),{value:I,setValue:La,errors:Aa}=d("new_lastname"),{value:te,setValue:Ka,errors:El}=d("new_company_name"),{value:oe,setValue:Ra,errors:Nl}=d("new_street_name"),{value:ne,setValue:Ha,errors:Cl}=d("new_house_number"),{value:se,setValue:Wa,errors:Ul}=d("new_house_number_extension"),{value:ue,setValue:za,errors:Da}=d("new_postalcode"),{value:re,setValue:Oa,errors:Fl}=d("new_city"),{value:de,setValue:Ga,errors:$l}=d("new_country"),{value:me,setValue:Ja,errors:Sl}=d("new_phone"),{value:jl,setValue:Qa,errors:Xa}=d("new_mobile"),{value:ie,setValue:Ya,errors:Pl}=d("new_email"),{value:ve,setValue:Za,errors:Il}=d("new_kvk"),{value:fe,setValue:ha,errors:Ml}=d("new_vat"),Bl=V(["foo","bar","baz"]),ce=V(!1),ql=B(()=>je.value.map(n=>({...n,title:n.lastname?`${n.firstname} ${n.affix} ${n.lastname}`.trim():n.company_name}))),Tl=async()=>{const n=await x.get("/api/downloadinvoice/"+F.value);if(n.data.error!==void 0){console.log(n.data.error),this.errorDialog=!0,this.errorMessage=n.data.error;return}const u=`data:application/pdf;base64,${n.data.pdf}`,s=document.createElement("a");console.log("contact selected field: ",N.value);const M="factuur_"+F.value+"_"+Rl(N.value.full_name)+".pdf";s.href=u,s.download=M,s.click()},je=V([]),{move:et,replace:Ll,remove:Al,push:Kl,fields:Q,update:lt,insert:at}=fa("items"),Rl=n=>n.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),Hl=V(null),Wl=B(()=>Q.value.map(n=>n.key));sa(Q,n=>{Wl.value=n.map(e=>e.key)},{immediate:!0}),pa("#invoiceitems",Hl,{handle:".handle",onUpdate:n=>{console.log(h)}});const zl=()=>{alert("updated")},Dl=V({full_name:"",value:null}),{value:N,setValue:pe}=d("contactSelectedField",Dl),{value:_e,setValue:Ol}=d("paymentTermField"),{value:Pe,setValue:Gl}=d("licenseNumberField"),{value:Ie,setValue:Jl}=d("carModelField");ua(async()=>{const n=await Xl();je.value=n.data;const e=await x.get("/api/countries");we.value=e.data;const u=await Ql(),s={full_name:(u.firstname?u.firstname+" ":"")+(u.affix?u.affix+" ":"")+(u.lastname??""),value:u.id};pe(s),ke(u.firstname),Ee(u.lastname),xe(u.affix),Ne(u.company_name),Ce(u.street_name),Ue(u.house_number),Fe(u.postalcode),$e(u.city),Se(u.country)});const Ql=async()=>new Promise(async(n,e)=>{const u=await x.get("/api/invoices/"+F.value);Le.value=u.data.id,h=[],Ol(u.data.payment_term),y.value=u.data.ismargin,Gl(u.data.license_number),Jl(u.data.car_model),Ll(u.data.items),h=u.data.items,n(u.data.contact)}),Xl=async()=>x.get("/api/contacts"),Ve=()=>{},Yl=n=>{const e=n.value.price*(1+(n.value.margin==null?0:n.value.margin)/100),u=n.value.quantity*e;return ge(u)},Ke=B(()=>Q.value.reduce((n,e)=>{const u=e.value.price*(1+(e.value.margin==null?0:e.value.margin)/100);return n+u*e.value.quantity},0)),Re=B(()=>y.value==!1?Q.value.reduce((n,e)=>{const u=e.value.price*(1+(e.value.margin==null?0:e.value.margin)/100);return n+u*e.value.quantity*(e.value.taxRate/100)},0):0),Zl=B(()=>Ke.value+Re.value),ge=n=>new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR"}).format(n);return(n,e)=>{const u=p("v-select"),s=p("v-col"),M=p("v-icon"),_=p("v-btn"),w=p("v-list-item-title"),C=p("v-list-item"),Me=p("v-card-title"),v=p("v-text-field"),m=p("v-row"),X=p("v-card-text"),Be=p("v-spacer"),be=p("v-card-actions"),Y=p("v-card"),ye=p("v-dialog"),He=p("v-list"),We=p("v-menu"),hl=p("v-autocomplete"),ea=p("v-sheet"),la=p("v-container");return E(),ra(la,{fluid:""},{default:a(()=>[l(Y,{class:"card z-index-2 h-100"},{default:a(()=>[l(X,{class:"card-body p-3"},{default:a(()=>[r("form",{onSubmit:e[48]||(e[48]=(...t)=>o(Ae)&&o(Ae)(...t))},[l(m,null,{default:a(()=>[l(s,{cols:"auto"},{default:a(()=>[e[69]||(e[69]=r("h1",null,"Factuur bewerken",-1)),r("div",_a,[r("div",Va,[l(m,{align:"center",class:"pa-0 ma-0 mb-5"},{default:a(()=>[l(s,{cols:"12",sm:"auto",class:"fullwidth pa-0 ma-0"},{default:a(()=>[l(u,{label:"",solo:"","item-title":"full_name","item-value":"id","return-object":"","onUpdate:modelValue":[ll,e[0]||(e[0]=t=>i(N)?N.value=t:null)],modelValue:o(N),items:ql.value,class:"select-custom-height"},null,8,["modelValue","items"])]),_:1}),l(s,{cols:"auto",class:"pa-0 ma-0"},{default:a(()=>[l(We,{modelValue:$.value,"onUpdate:modelValue":e[35]||(e[35]=t=>$.value=t),location:"end"},{activator:a(({props:t})=>[l(_,b({class:"button-custom-height",elevation:"0"},t,{style:{borderRadius:"0 4px 4px 0",background:"rgb(245, 245, 245)"}}),{default:a(()=>[l(M,{size:"x-large"},{default:a(()=>e[52]||(e[52]=[f("fa-address-book")])),_:1,__:[52]})]),_:2},1040)]),default:a(()=>[l(He,{lines:!1,density:"compact",nav:""},{default:a(()=>[l(ye,{modelValue:ee.value,"onUpdate:modelValue":e[17]||(e[17]=t=>ee.value=t),width:"800",persistent:""},{activator:a(({props:t})=>[l(C,b(t,{value:"addcontact",key:"addcontact",color:"primary"}),{default:a(()=>[l(w,{textContent:"Nieuwe Klant"})]),_:2},1040)]),default:a(()=>[l(Y,null,{default:a(()=>[l(Me,null,{default:a(()=>e[53]||(e[53]=[r("span",{class:"text-h5"},"Nieuwe klant",-1)])),_:1,__:[53]}),l(X,null,{default:a(()=>[r("form",null,[l(m,null,{default:a(()=>[l(s,{cols:"6"},{default:a(()=>[l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(El),modelValue:o(te),"onUpdate:modelValue":e[1]||(e[1]=t=>i(te)?te.value=t:null),label:"Bedrijfsnaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(kl),modelValue:o(j),"onUpdate:modelValue":e[2]||(e[2]=t=>i(j)?j.value=t:null),label:"Voornaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(xl),modelValue:o(P),"onUpdate:modelValue":e[3]||(e[3]=t=>i(P)?P.value=t:null),label:"Tussenvoegsel"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":n.newLastNameErrors,modelValue:o(I),"onUpdate:modelValue":e[4]||(e[4]=t=>i(I)?I.value=t:null),label:"Achternaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(Pl),modelValue:o(ie),"onUpdate:modelValue":e[5]||(e[5]=t=>i(ie)?ie.value=t:null),label:"E-mail"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(Sl),modelValue:o(me),"onUpdate:modelValue":e[6]||(e[6]=t=>i(me)?me.value=t:null),label:"Telefoon"},null,8,["error-messages","modelValue"])]),_:1})]),_:1})]),_:1}),l(s,{cols:"6"},{default:a(()=>[l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(Nl),modelValue:o(oe),"onUpdate:modelValue":e[7]||(e[7]=t=>i(oe)?oe.value=t:null),label:"Straatnaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(m,null,{default:a(()=>[l(s,{cols:"6"},{default:a(()=>[l(v,{"error-messages":o(Cl),modelValue:o(ne),"onUpdate:modelValue":e[8]||(e[8]=t=>i(ne)?ne.value=t:null),label:"Huisnummer"},null,8,["error-messages","modelValue"])]),_:1}),l(s,{cols:"6"},{default:a(()=>[l(v,{"error-messages":o(Ul),modelValue:o(se),"onUpdate:modelValue":e[9]||(e[9]=t=>i(se)?se.value=t:null),label:"Toevoeging"},null,8,["error-messages","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":n.newPostalcodeErrors,modelValue:o(ue),"onUpdate:modelValue":e[10]||(e[10]=t=>i(ue)?ue.value=t:null),label:"Postcode"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(Fl),modelValue:o(re),"onUpdate:modelValue":e[11]||(e[11]=t=>i(re)?re.value=t:null),label:"Plaats"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(Il),modelValue:o(ve),"onUpdate:modelValue":e[12]||(e[12]=t=>i(ve)?ve.value=t:null),label:"KVK-nummer"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(Ml),modelValue:o(fe),"onUpdate:modelValue":e[13]||(e[13]=t=>i(fe)?fe.value=t:null),label:"Btw-nummer"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(u,{"error-messages":o($l),modelValue:o(de),"onUpdate:modelValue":e[14]||(e[14]=t=>i(de)?de.value=t:null),"return-object":"",items:we.value,label:"Land"},null,8,["error-messages","modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),l(be,null,{default:a(()=>[l(Be),l(_,{color:"green-darken-1",variant:"text",onClick:e[15]||(e[15]=t=>{Xe(),ee.value=!1,$.value=!1})},{default:a(()=>e[54]||(e[54]=[f(" Opslaan ")])),_:1,__:[54]}),l(_,{color:"green-darken-1",variant:"text",onClick:e[16]||(e[16]=t=>{ee.value=!1,$.value=!1})},{default:a(()=>e[55]||(e[55]=[f(" Sluiten ")])),_:1,__:[55]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(ye,{modelValue:le.value,"onUpdate:modelValue":e[34]||(e[34]=t=>le.value=t),width:"800",persistent:""},{activator:a(({props:t})=>[l(C,b(t,{value:"editcontact",key:"editcontact",color:"primary"}),{default:a(()=>[l(w,{textContent:"Klant bewerken"})]),_:2},1040)]),default:a(()=>[l(Y,null,{default:a(()=>[l(Me,null,{default:a(()=>e[56]||(e[56]=[r("span",{class:"text-h5"},"Klant bewerken",-1)])),_:1,__:[56]}),l(X,null,{default:a(()=>[r("form",null,[l(m,null,{default:a(()=>[l(s,{cols:"6"},{default:a(()=>[l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(sl),modelValue:o(S),"onUpdate:modelValue":e[18]||(e[18]=t=>i(S)?S.value=t:null),label:"Bedrijfsnaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(tl),modelValue:o(T),"onUpdate:modelValue":e[19]||(e[19]=t=>i(T)?T.value=t:null),label:"Voornaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{name:"affix","error-messages":o(ol),modelValue:o(L),"onUpdate:modelValue":e[20]||(e[20]=t=>i(L)?L.value=t:null),label:"Tussenvoegsel"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(nl),modelValue:o(A),"onUpdate:modelValue":e[21]||(e[21]=t=>i(A)?A.value=t:null),label:"Achternaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(Vl),modelValue:o(O),"onUpdate:modelValue":e[22]||(e[22]=t=>i(O)?O.value=t:null),label:"E-mail"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(fl),modelValue:o(D),"onUpdate:modelValue":e[23]||(e[23]=t=>i(D)?D.value=t:null),label:"Telefoon"},null,8,["error-messages","modelValue"])]),_:1})]),_:1})]),_:1}),l(s,{cols:"6"},{default:a(()=>[l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(ul),modelValue:o(K),"onUpdate:modelValue":e[24]||(e[24]=t=>i(K)?K.value=t:null),label:"Straatnaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(m,null,{default:a(()=>[l(s,{cols:"6"},{default:a(()=>[l(v,{"error-messages":o(rl),modelValue:o(R),"onUpdate:modelValue":e[25]||(e[25]=t=>i(R)?R.value=t:null),label:"Huisnummer"},null,8,["error-messages","modelValue"])]),_:1}),l(s,{cols:"6"},{default:a(()=>[l(v,{"error-messages":o(dl),modelValue:o(H),"onUpdate:modelValue":e[26]||(e[26]=t=>i(H)?H.value=t:null),label:"Toevoeging"},null,8,["error-messages","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":n.postalcodeErrors,modelValue:o(W),"onUpdate:modelValue":e[27]||(e[27]=t=>i(W)?W.value=t:null),label:"Postcode"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(ml),modelValue:o(z),"onUpdate:modelValue":e[28]||(e[28]=t=>i(z)?z.value=t:null),label:"Plaats"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(bl),modelValue:o(G),"onUpdate:modelValue":e[29]||(e[29]=t=>i(G)?G.value=t:null),label:"KVK-nummer"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(v,{"error-messages":o(wl),modelValue:o(J),"onUpdate:modelValue":e[30]||(e[30]=t=>i(J)?J.value=t:null),label:"Btw-nummer"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(m,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[l(u,{"error-messages":o(il),modelValue:o(ae),"onUpdate:modelValue":e[31]||(e[31]=t=>i(ae)?ae.value=t:null),"return-object":"",items:we.value,label:"Land"},null,8,["error-messages","modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),l(be,null,{default:a(()=>[l(Be),l(_,{color:"green-darken-1",variant:"text",onClick:e[32]||(e[32]=t=>{Ye(),le.value=!1,$.value=!1})},{default:a(()=>e[57]||(e[57]=[f(" Opslaan ")])),_:1,__:[57]}),l(_,{color:"green-darken-1",variant:"text",onClick:e[33]||(e[33]=t=>{le.value=!1,$.value=!1})},{default:a(()=>e[58]||(e[58]=[f(" Sluiten ")])),_:1,__:[58]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(N)?(E(),U("div",ga,[e[59]||(e[59]=r("strong",null,"Factuuradres:",-1)),o(S)?(E(),U("p",ba,c(o(S)),1)):qe("",!0),r("p",null,c(o(T))+" "+c(o(L))+" "+c(o(A)),1),r("p",null,c(o(K))+" "+c(o(R))+" "+c(o(H)),1),r("p",null,c(o(W))+" "+c(o(z)),1),r("p",null,c(o(O)),1),r("p",null,c(o(D)),1),r("p",null,c(o(G)),1),r("p",null,c(o(J)),1)])):(E(),U("div",ya,"Geen klant geselecteerd ")),r("div",wa,[f(" Factuurnummer: INV"+c(F.value),1),e[60]||(e[60]=r("br",null,null,-1)),e[61]||(e[61]=f(" Factuurdatum: maandag 5 november 2023")),e[62]||(e[62]=r("br",null,null,-1)),f(" Betaaltermijn: "+c(o(_e))+" dagen",1),e[63]||(e[63]=r("br",null,null,-1)),f(" Factuur gemaakt door: "+c(o(Je).user.name),1),e[64]||(e[64]=r("br",null,null,-1))]),l(v,{modelValue:o(_e),"onUpdate:modelValue":e[36]||(e[36]=t=>i(_e)?_e.value=t:null),modelModifiers:{number:!0},class:"mt-5",variant:"outlined",label:"Betaaltermijn"},null,8,["modelValue"]),l(v,{modelValue:o(Pe),"onUpdate:modelValue":e[37]||(e[37]=t=>i(Pe)?Pe.value=t:null),class:"",variant:"outlined",label:"Kenteken"},null,8,["modelValue"]),l(v,{modelValue:o(Ie),"onUpdate:modelValue":e[38]||(e[38]=t=>i(Ie)?Ie.value=t:null),class:"",variant:"outlined",label:"Automodel"},null,8,["modelValue"]),l(_,{class:"mt-4 text-white",color:"#2196f3",onClick:e[39]||(e[39]=t=>Qe())},{default:a(()=>e[65]||(e[65]=[f("Marge Factuur")])),_:1,__:[65]}),l(_,{class:"mt-4 text-white",color:"#2196f3",onClick:e[40]||(e[40]=t=>Tl())},{default:a(()=>e[66]||(e[66]=[f("PDF Downloaden")])),_:1,__:[66]}),l(_,{class:"mt-4 text-white",color:"#f00",onClick:e[41]||(e[41]=t=>el())},{default:a(()=>e[67]||(e[67]=[f("Factuur verwijderen")])),_:1,__:[67]}),l(_,{class:"mt-3 text-white",color:"#66bb6a",type:"submit"},{default:a(()=>e[68]||(e[68]=[f("Factuur opslaan")])),_:1,__:[68]})])])]),_:1,__:[69]}),l(s,null,{default:a(()=>[l(ea,{style:{border:"1px solid #ccc"},class:"mt-10 invoice-table"},{default:a(()=>[e[76]||(e[76]=r("div",{class:"flex-container header"},[r("div",{style:{"justify-content":"center",flex:"4"}},"Beschrijving"),r("div",null,"Aantal"),r("div",null,"Marge (%)"),r("div",null,"BTW tarief (%)"),r("div",null,"Prijs"),r("div",null,"Subtotaal"),r("div")],-1)),r("div",ka,[(E(!0),U(ma,null,da(o(Q),(t,k)=>(E(),U("div",{class:"flex-container",key:k},[r("div",xa,[l(o(Z),{modelValue:t.description,"onUpdate:modelValue":g=>t.description=g,class:"description-container",name:`items[${k}].description`,as:"div"},{default:a(({field:g})=>[r("textarea",b({ref_for:!0},g,{class:"item-description",placeholder:"Voer beschrijving in"}),null,16),l(o(ca),{class:"description-error",name:`items[${k}].description`},null,8,["name"])]),_:2},1032,["modelValue","onUpdate:modelValue","name"])]),l(o(Z),b({"data-name":"quantity",style:{"align-self":"stretch"}},{ref_for:!0},t.quantity,{name:`items[${k}].quantity`,type:"number",onInput:Ve}),null,16,["name"]),l(o(Z),b({"data-name":"margin",style:{"align-self":"stretch"}},{ref_for:!0},t.margin,{name:`items[${k}].margin`,type:"number",step:"any",onInput:Ve}),null,16,["name"]),l(o(Z),b({"data-name":"taxRate",style:{"align-self":"stretch"}},{ref_for:!0},t.taxRate,{name:`items[${k}].taxRate`,type:"number",onInput:Ve}),null,16,["name"]),l(o(Z),b({"data-name":"price",style:{"align-self":"stretch"}},{ref_for:!0},t.price,{name:`items[${k}].price`,type:"number",step:"any",onInput:Ve}),null,16,["name"]),r("div",Ea,c(Yl(t)),1),l(s,{cols:"auto"},{default:a(()=>[l(We,{location:"start"},{activator:a(({props:g})=>[l(_,b({dark:""},{ref_for:!0},g),{default:a(()=>e[70]||(e[70]=[f(" Menu ")])),_:2,__:[70]},1040)]),default:a(()=>[l(He,{lines:!1,density:"compact",nav:""},{default:a(()=>[l(ye,{modelValue:ce.value,"onUpdate:modelValue":e[46]||(e[46]=g=>ce.value=g),width:"800"},{activator:a(({props:g})=>[l(C,b({ref_for:!0},g,{value:"load",key:"load",color:"primary"}),{default:a(()=>[l(w,{textContent:"Product laden"})]),_:2},1040)]),default:a(()=>[l(Y,null,{default:a(()=>[l(Me,null,{default:a(()=>e[71]||(e[71]=[r("span",{class:"text-h5"},"Product laden",-1)])),_:1,__:[71]}),l(X,null,{default:a(()=>[l(hl,{label:"Product zoeken",items:Bl.value,variant:"solo-filled",modelValue:n.product,"onUpdate:modelValue":[e[42]||(e[42]=g=>n.product=g),e[43]||(e[43]=g=>zl())]},null,8,["items","modelValue"])]),_:1}),l(be,null,{default:a(()=>[l(Be),l(_,{color:"green-darken-1",variant:"text",onClick:e[44]||(e[44]=g=>ce.value=!1)},{default:a(()=>e[72]||(e[72]=[f(" Opslaan ")])),_:1,__:[72]}),l(_,{color:"green-darken-1",variant:"text",onClick:e[45]||(e[45]=g=>ce.value=!1)},{default:a(()=>e[73]||(e[73]=[f(" Sluiten ")])),_:1,__:[73]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(C,{onClick:g=>o(Al)(k),value:"delete",key:"delete",color:"primary"},{default:a(()=>[l(w,{textContent:"Verwijderen"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(M,{style:{cursor:"pointer",width:"25px"},class:"handle"},{default:a(()=>e[74]||(e[74]=[f("custom:draghandleIcon")])),_:1,__:[74]})]))),128))]),l(_,{class:"ml-2 my-5 text-white",color:"#2196f3",onClick:e[47]||(e[47]=t=>Ge())},{default:a(()=>e[75]||(e[75]=[f("Nieuwe regel")])),_:1,__:[75]}),r("div",Na,[y.value?qe("",!0):(E(),U("div",Ca,"Subtotaal: "+c(ge(Ke.value)),1)),y.value?qe("",!0):(E(),U("div",Ua,"BTW: "+c(ge(Re.value)),1)),r("div",Fa,"Totaal: "+c(ge(Zl.value)),1)])]),_:1,__:[76]})]),_:1})]),_:1})],32),l(ye,{modelValue:q.value,"onUpdate:modelValue":e[51]||(e[51]=t=>q.value=t),width:"auto"},{default:a(()=>[l(Y,null,{default:a(()=>[l(X,null,{default:a(()=>e[77]||(e[77]=[f(" Weet je zeker dat je deze factuur wilt verwijderen? ")])),_:1,__:[77]}),l(be,null,{default:a(()=>[l(_,{color:"red-darken-1",variant:"text",onClick:e[49]||(e[49]=t=>{q.value=!1,he()})},{default:a(()=>e[78]||(e[78]=[f("Bevestigen")])),_:1,__:[78]}),l(_,{color:"green-darken-1",variant:"text",onClick:e[50]||(e[50]=t=>{q.value=!1})},{default:a(()=>e[79]||(e[79]=[f("Sluiten")])),_:1,__:[79]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}},st=aa($a,[["__scopeId","data-v-894c629c"],["__file","InvoiceEdit.vue"]]);export{st as default};
