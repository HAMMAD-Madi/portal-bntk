import{s as O,c as q,a as g,f as I,F as T,h as m,E as d}from"./index.esm-6efb83c4.js";import{_ as V,r as f,s as A,g as b,i as l,o as E,j as H,k as t,l as e,y as n,a as x,z as u,e as k}from"./app-dea674a6.js";const M=["onSubmit"],D={class:"mt-5"},G={__name:"NewCategory",setup(J){O({mixed:{default:"${field} is niet geldig",required:({label:a,values:o})=>`${a} is een verplicht veld`,oneOf:"moet een van de volgende waarden zijn: ${values}",notOneOf:"mag niet een van de volgende waarden zijn: ${values}"},string:{length:"moet precies ${length} karakters lang zijn",min:"moet minstens ${min} karakters bevatten",max:"mag maximaal ${max} karakters bevatten",email:"moet een geldig e-mailadres zijn",url:"moet een geldige URL zijn"},number:{integer:"moet een getal zijn",number:({label:a,values:o})=>`${a} moet een getal zijn`,positive:({label:a,values:o})=>`${a} moet een getal hoger dan 0 zijn`,min:"moet groter dan of gelijk zijn aan ${min}",max:"moet kleiner dan of gelijk zijn aan ${max}"}});const j=q({title:g().required(),position:g().required(),image:I(),image_url:g().url(),childcategory:g()});let _=f("");const w=a=>new Promise((o,i)=>{const c=new FileReader;c.onload=()=>o(c.result),c.onerror=i,c.readAsDataURL(a)}),h=f([]);A(async()=>{const a=await b.get("/api/categories2/children");h.value=a.data});const v=f("http://a400wsckk88ogos84woksgog.185.222.240.190.sslip.io/image-placeholder.png"),$=async(a,o)=>{const i=a.target.files[0];i&&(v.value=URL.createObjectURL(i),_.value=await w(i),o(i))},y=()=>{v.value="http://a400wsckk88ogos84woksgog.185.222.240.190.sslip.io/imgplaceholder.png",_.value=""};async function z(a){console.log("Form Submitted:",a),a.image=_.value,await b.post("/api/categories",{...a})}return(a,o)=>{const i=l("v-text-field"),c=l("v-select"),C=l("v-img"),B=l("v-icon"),L=l("v-file-input"),N=l("v-btn"),R=l("v-card-text"),F=l("v-card"),P=l("v-container");return E(),H(P,{fluid:""},{default:t(()=>[e(F,{class:"card z-index-2 h-100"},{default:t(()=>[e(R,{class:"card-body p-3"},{default:t(()=>[e(n(T),{"validation-schema":n(j),as:"div"},{default:t(({handleSubmit:S,values:K})=>[x("form",{onSubmit:s=>S(s,z)},[e(n(m),{name:"title"},{default:t(({field:s,meta:r})=>[e(i,u({variant:"outlined"},s,{label:"Titel",error:r.touched&&r.error,"error-messages":r.error}),null,16,["error","error-messages"])]),_:1}),e(n(d),{name:"title"}),e(n(m),{name:"position"},{default:t(({field:s,meta:r})=>[e(i,u({variant:"outlined"},s,{label:"Positie",error:r.touched&&r.error,"error-messages":r.error}),null,16,["error","error-messages"])]),_:1}),e(n(d),{name:"position"}),e(n(m),{name:"childcategory"},{default:t(({field:s,meta:r})=>[e(c,u({variant:"outlined"},s,{label:"Hoofdcategorie",items:h.value,"error-messages":r.error}),null,16,["items","error-messages"])]),_:1}),e(n(d),{name:"childcategory"}),e(n(m),{name:"image"},{default:t(({handleChange:s,handleBlur:r,meta:p})=>[e(C,{class:"mb-5 image-size",contain:"","max-width":"250","max-height":"250",src:v.value},null,8,["src"]),e(L,{variant:"outlined",onChange:U=>$(U,s),onBlur:r,error:p.touched&&p.error,"error-messages":p.error,accept:"image/*",label:"Hoofdafbeelding","prepend-icon":"",class:"mb-5",clearable:"","onClick:clear":y},{"prepend-inner":t(()=>[e(B,{class:"mr-3"},{default:t(()=>o[0]||(o[0]=[k("fa-image")])),_:1,__:[0]})]),_:2},1032,["onChange","onBlur","error","error-messages"])]),_:1}),e(n(d),{name:"image"}),e(n(m),{name:"image_url"},{default:t(({field:s,meta:r})=>[e(i,u({variant:"outlined"},s,{label:"Afbeeldings URL",error:r.touched&&r.error,"error-messages":r.error}),null,16,["error","error-messages"])]),_:1}),e(n(d),{name:"image_url"}),x("div",D,[e(N,{type:"submit",class:"btn-primary"},{default:t(()=>o[1]||(o[1]=[k("Submit")])),_:1,__:[1]})])],40,M)]),_:1},8,["validation-schema"])]),_:1})]),_:1})]),_:1})}}},X=V(G,[["__file","NewCategory.vue"]]);export{X as default};
