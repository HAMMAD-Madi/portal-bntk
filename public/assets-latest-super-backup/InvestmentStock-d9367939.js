import{_ as F,r as f,h as O,q as b,s as U,i as r,o as x,j as $,k as s,m as I,l as a,e as _,a as n,c as k,f as q,F as A,t as o,n as j}from"./app-6ea8fd2a.js";const G={class:"d-flex align-center mb-4 gap-4"},M={__name:"InvestmentStock",setup(H){const d=f(""),c=f("purchase_date"),g=f([]),w=[{title:"Purchase Date",value:"purchase_date"},{title:"Expected List Date",value:"expected_list_date"},{title:"ROI",value:"roi"}],p=async()=>{try{const e=await I.get("/api/products/investment",{params:{search:d.value}});g.value=e.data}catch(e){console.error("Error loading investment items:",e)}},V=O(()=>{let e=[...g.value];return c.value==="roi"?e.sort((t,u)=>i(u)-i(t)):e.sort((t,u)=>new Date(u[c.value])-new Date(t[c.value])),e}),i=e=>e.purchase_price?(e.price-e.purchase_price)/e.purchase_price*100:0,D=e=>i(e).toFixed(2),S=e=>{const t=i(e);return{"text-success":t>0,"text-error":t<0,"text-grey":t===0}},v=e=>e?Number(e).toLocaleString("nl-NL",{style:"currency",currency:"EUR"}):"-",y=e=>e?new Date(e).toLocaleDateString("nl-NL"):"-",C=async e=>{try{await I.patch(`/api/products/${e.id}/convert-to-regular`),await p()}catch(t){console.error("Error converting item:",t)}};return b(d,()=>{p()}),b(c,()=>{}),U(()=>{p()}),(e,t)=>{const u=r("v-spacer"),m=r("v-btn"),L=r("v-card-title"),N=r("v-text-field"),R=r("v-select"),h=r("v-icon"),B=r("v-btn-group"),E=r("v-table"),P=r("v-card-text"),T=r("v-card"),z=r("v-container");return x(),$(z,{fluid:""},{default:s(()=>[a(T,{class:"card z-index-2 h-100"},{default:s(()=>[a(L,{class:"d-flex align-center mb-4"},{default:s(()=>[t[3]||(t[3]=_(" Investment Stock ")),a(u),a(m,{class:"btn-primary",to:{name:"inventory-new",query:{type:"investment"}}},{default:s(()=>t[2]||(t[2]=[_(" Add Investment Item ")])),_:1,__:[2]})]),_:1,__:[3]}),a(P,null,{default:s(()=>[n("div",G,[a(N,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=l=>d.value=l),"prepend-inner-icon":"fas fa-magnifying-glass",label:"Search",variant:"outlined","hide-details":"",class:"flex-grow-1",clearable:""},null,8,["modelValue"]),a(R,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=l=>c.value=l),items:w,label:"Sort By",variant:"outlined","hide-details":"",class:"flex-shrink-0",style:{"min-width":"200px"}},null,8,["modelValue"])]),a(E,null,{default:s(()=>[t[6]||(t[6]=n("thead",null,[n("tr",null,[n("th",null,"GTIN"),n("th",null,"Title"),n("th",null,"Purchase Price"),n("th",null,"Current Value"),n("th",null,"Target Price"),n("th",null,"Purchase Date"),n("th",null,"Expected List Date"),n("th",null,"ROI"),n("th",null,"Actions")])],-1)),n("tbody",null,[(x(!0),k(A,null,q(V.value,l=>(x(),k("tr",{key:l.id},[n("td",null,o(l.gtin),1),n("td",null,o(l.title),1),n("td",null,o(v(l.purchase_price)),1),n("td",null,o(v(l.price)),1),n("td",null,o(v(l.target_price)),1),n("td",null,o(y(l.purchase_date)),1),n("td",null,o(y(l.expected_list_date)),1),n("td",{class:j(S(l))},o(D(l))+"% ",3),n("td",null,[a(B,null,{default:s(()=>[a(m,{size:"small",icon:"",to:`/voorraad/${l.gtin}`},{default:s(()=>[a(h,{class:"text-primary"},{default:s(()=>t[4]||(t[4]=[_("fa-pencil")])),_:1,__:[4]})]),_:2},1032,["to"]),a(m,{size:"small",icon:"",onClick:J=>C(l)},{default:s(()=>[a(h,{class:"text-success"},{default:s(()=>t[5]||(t[5]=[_("fa-box")])),_:1,__:[5]})]),_:2},1032,["onClick"])]),_:2},1024)])]))),128))])]),_:1,__:[6]})]),_:1})]),_:1})]),_:1})}}},Q=F(M,[["__scopeId","data-v-d4cdfa1f"],["__file","InvestmentStock.vue"]]);export{Q as default};
