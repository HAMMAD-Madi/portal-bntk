import{_ as Ol,u as zl,p as Wl,r as _,h as $,m as z,q as Dl,s as Gl,i as v,o as w,j as Jl,k as a,l,a as u,C as m,y as o,z as b,e as p,c as k,t as f,d as Ne,f as Ql,F as Xl}from"./app-6ea8fd2a.js";import{c as Ee,a as He,d as Yl,u as Zl,g as r,i as hl,h as W,E as ea}from"./index.esm-faf5a3f5.js";import{u as la}from"./useSortable-72bff96e.js";const aa={class:"info-flex-container"},ta={class:"box"},oa={key:0,class:"mt-2"},sa={key:0},na={key:1,class:"mt-2"},ua={class:"mt-4"},ra={id:"invoiceitems"},da={style:{flex:"4","justify-content":"start"}},ma={class:"item-total"},ia={class:"flex-container footer"},va={key:0,style:{"font-weight":"bold"}},fa={key:1,style:{"font-weight":"bold"}},pa={style:{"font-weight":"bold"}},ca={__name:"InvoiceNew",setup(_a){const Oe=zl(),ze=Wl(),Ce=_(),x=_(!1);Ce.value=Oe.params.number,_("");const ce=_([]),N=_(!1);_(),Ee({email:He().required().email()}),_(!1);const We=async()=>{let s=C.value||" "+U.value||" "+F.value||"";const e={firstname:C.value,affix:U.value,lastname:F.value,company_name:Q.value,street_name:X.value,house_number:Y.value,house_number_extension:Z.value,postalcode:h.value,city:ee.value,country:le.value,phone:ae.value,mobile:El.value,email:te.value,kvk:oe.value,vat:se.value,full_name:s},V=await z.post("/api/contacts",{contact:e});e.id=V.data.id,_e.value.push(e),s={full_name:C.value||" "+U.value||" "+F.value||"",value:V.data.id},Ve(s),Fe(e.firstname),je(e.lastname),$e(e.affix),Ie(e.company_name),Se(e.street_name),Me(e.house_number),Pe(e.postalcode),Be(e.city),Te(e.country),nl(e.phone),dl(e.mobile),ml(e.email),vl(e.kvk),pl(e.vat)},De=async()=>{const s={id:O.value.value,firstname:j.value,affix:I.value,lastname:S.value,company_name:E.value,street_name:M.value,house_number:P.value,house_number_extension:B.value,postalcode:T.value,city:q.value,country:J.value,phone:K.value,mobile:rl.value,email:L.value,kvk:R.value,vat:A.value},e=await z.put("/api/contacts",{contact:s}),V={full_name:e.data.firstname||" "+e.data.affix||" "+e.data.lastname||"",value:e.data.id};Ve(V)};$(()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost",handle:".handle",forceFallback:!0}));const Ge=()=>{N.value=!N.value},D=_(!1),G=_(!1),Je=Ee().shape({items:Yl().of(Ee().shape({description:He().required().label("Beschrijving")})).strict()}),Qe=s=>{console.log("contact select changed");const e={full_name:s.firstname||" "+s.affix||" "+s.lastname,value:s.id};Ve(e),Fe(s.firstname),je(s.lastname),$e(s.affix),Ie(s.company_name),Se(s.street_name),Me(s.house_number),Pe(s.postalcode),Be(s.city),Te(s.country)},{handleSubmit:Xe,handleReset:Va,errors:ga}=Zl({validationSchema:Je}),Ue=Xe(async s=>{s.ismargin=N.value,console.log(s);const e=await z.post("/api/invoices",s);e.data.status=="success"&&e.data.invoice_number?ze.push("/facturen/"+e.data.invoice_number):alert("Er is een fout opgetreden tijdens het opslaan van de factuur")});_({firstname:null,affix:null,lastname:null,company_name:null,street_name:null,house_number:null,house_number_extension:null,postalcode:null,city:null,country:null,phone:null,mobile:null,email:null,kvk:null,vat:null,title:""});const{value:j,setValue:Fe,errors:Ye}=r("firstname","required|min:8"),{value:I,setValue:$e,errors:Ze}=r("affix"),{value:S,setValue:je,errors:he}=r("lastname"),{value:E,setValue:Ie,errors:el}=r("company_name"),{value:M,setValue:Se,errors:ll}=r("street_name"),{value:P,setValue:Me,errors:al}=r("house_number"),{value:B,setValue:ba,errors:tl}=r("house_number_extension"),{value:T,setValue:Pe,errors:ya}=r("postalcode"),{value:q,setValue:Be,errors:ol}=r("city"),{value:J,setValue:Te,errors:sl}=r("country"),{value:K,setValue:nl,errors:ul}=r("phone"),{value:rl,setValue:dl,errors:wa}=r("mobile"),{value:L,setValue:ml,errors:il}=r("email"),{value:R,setValue:vl,errors:fl}=r("kvk"),{value:A,setValue:pl,errors:cl}=r("vat"),{value:C,setValue:ka,errors:_l}=r("new_firstname","required|min:8"),{value:U,setValue:xa,errors:Vl}=r("new_affix"),{value:F,setValue:Na,errors:Ea}=r("new_lastname"),{value:Q,setValue:Ca,errors:gl}=r("new_company_name"),{value:X,setValue:Ua,errors:bl}=r("new_street_name"),{value:Y,setValue:Fa,errors:yl}=r("new_house_number"),{value:Z,setValue:$a,errors:wl}=r("new_house_number_extension"),{value:h,setValue:ja,errors:Ia}=r("new_postalcode"),{value:ee,setValue:Sa,errors:kl}=r("new_city"),{value:le,setValue:Ma,errors:xl}=r("new_country"),{value:ae,setValue:Pa,errors:Nl}=r("new_phone"),{value:El,setValue:Ba,errors:Ta}=r("new_mobile"),{value:te,setValue:qa,errors:Cl}=r("new_email"),{value:oe,setValue:Ka,errors:Ul}=r("new_kvk"),{value:se,setValue:La,errors:Fl}=r("new_vat"),$l=_(["foo","bar","baz"]),ne=_(!1),jl=$(()=>_e.value.map(s=>({...s,title:s.lastname?`${s.firstname} ${s.affix} ${s.lastname}`.trim():s.company_name}))),_e=_([]),{move:Ra,replace:Aa,remove:Il,push:Sl,fields:H,update:Ha,insert:Oa}=hl("items"),Ml=_(null),ue=$(()=>H.value.map(s=>s.key));Dl(H,s=>{ue.value=s.map(e=>e.key)},{immediate:!0}),la("#invoiceitems",Ml,{handle:".handle",onUpdate:s=>{const e=ue.value[s.oldIndex];ue.value.splice(s.oldIndex,1),ue.value.splice(s.newIndex,0,e)}});const Pl=()=>{alert("updated")},Bl=s=>{console.log(contactSelectedField.errorMessage)},Tl=_({full_name:"",value:null}),{value:O,setValue:Ve}=r("contactSelectedField",Tl),{value:re,setValue:za}=r("paymentTermField"),{value:ge,setValue:Wa}=r("licenseNumberField"),{value:be,setValue:Da}=r("carModelField");Gl(async()=>{const s=await ql();_e.value=s.data;const e=await z.get("/api/countries");ce.value=e.data});const ql=async()=>z.get("/api/contacts"),de=()=>{},Kl=s=>{const e=s.value.price*(1+(s.value.margin==null?0:s.value.margin)/100),V=s.value.quantity*e;return me(V)},qe=$(()=>H.value.reduce((s,e)=>{const V=e.value.price*(1+(e.value.margin==null?0:e.value.margin)/100);return s+V*e.value.quantity},0)),Ke=$(()=>N.value==!1?H.value.reduce((s,e)=>{const V=e.value.price*(1+(e.value.margin==null?0:e.value.margin)/100);return s+V*e.value.quantity*(e.value.taxRate/100)},0):0),Ll=$(()=>qe.value+Ke.value),me=s=>new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR"}).format(s);return(s,e)=>{const V=v("v-select"),n=v("v-col"),Le=v("v-icon"),g=v("v-btn"),ie=v("v-list-item-title"),ve=v("v-list-item"),ye=v("v-card-title"),i=v("v-text-field"),d=v("v-row"),fe=v("v-card-text"),we=v("v-spacer"),ke=v("v-card-actions"),pe=v("v-card"),xe=v("v-dialog"),Re=v("v-list"),Ae=v("v-menu"),Rl=v("v-autocomplete"),Al=v("v-sheet"),Hl=v("v-container");return w(),Jl(Hl,{fluid:""},{default:a(()=>[l(pe,{class:"card z-index-2 h-100"},{default:a(()=>[l(fe,{class:"card-body p-3"},{default:a(()=>[u("form",{onSubmit:e[46]||(e[46]=(...t)=>o(Ue)&&o(Ue)(...t))},[l(d,null,{default:a(()=>[l(n,{cols:"auto"},{default:a(()=>[e[64]||(e[64]=u("h1",null,"Nieuw factuur",-1)),u("div",aa,[u("div",ta,[l(d,{align:"center",class:"pa-0 ma-0 mb-5"},{default:a(()=>[l(n,{cols:"12",sm:"auto",class:"fullwidth pa-0 ma-0"},{default:a(()=>[l(V,{label:"",solo:"","item-title":"full_name","item-value":"id","return-object":"","onUpdate:modelValue":[Qe,e[0]||(e[0]=t=>m(O)?O.value=t:null)],modelValue:o(O),items:jl.value,class:"select-custom-height"},null,8,["modelValue","items"])]),_:1}),l(n,{cols:"auto",class:"pa-0 ma-0"},{default:a(()=>[l(Ae,{modelValue:x.value,"onUpdate:modelValue":e[35]||(e[35]=t=>x.value=t),location:"end"},{activator:a(({props:t})=>[l(g,b({class:"button-custom-height",elevation:"0"},t,{style:{borderRadius:"0 4px 4px 0",background:"rgb(245, 245, 245)"}}),{default:a(()=>[l(Le,{size:"x-large"},{default:a(()=>e[47]||(e[47]=[p("fa-address-book")])),_:1,__:[47]})]),_:2},1040)]),default:a(()=>[l(Re,{lines:!1,density:"compact",nav:""},{default:a(()=>[l(xe,{modelValue:D.value,"onUpdate:modelValue":e[17]||(e[17]=t=>D.value=t),width:"800",persistent:""},{activator:a(({props:t})=>[l(ve,b(t,{value:"addcontact",key:"addcontact",color:"primary"}),{default:a(()=>[l(ie,{textContent:"Nieuwe Klant"})]),_:2},1040)]),default:a(()=>[l(pe,null,{default:a(()=>[l(ye,null,{default:a(()=>e[48]||(e[48]=[u("span",{class:"text-h5"},"Nieuwe klant",-1)])),_:1,__:[48]}),l(fe,null,{default:a(()=>[u("form",null,[l(d,null,{default:a(()=>[l(n,{cols:"6"},{default:a(()=>[l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(gl),modelValue:o(Q),"onUpdate:modelValue":e[1]||(e[1]=t=>m(Q)?Q.value=t:null),label:"Bedrijfsnaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(_l),modelValue:o(C),"onUpdate:modelValue":e[2]||(e[2]=t=>m(C)?C.value=t:null),label:"Voornaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(Vl),modelValue:o(U),"onUpdate:modelValue":e[3]||(e[3]=t=>m(U)?U.value=t:null),label:"Tussenvoegsel"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":s.newLastNameErrors,modelValue:o(F),"onUpdate:modelValue":e[4]||(e[4]=t=>m(F)?F.value=t:null),label:"Achternaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(Cl),modelValue:o(te),"onUpdate:modelValue":e[5]||(e[5]=t=>m(te)?te.value=t:null),label:"E-mail"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(Nl),modelValue:o(ae),"onUpdate:modelValue":e[6]||(e[6]=t=>m(ae)?ae.value=t:null),label:"Telefoon"},null,8,["error-messages","modelValue"])]),_:1})]),_:1})]),_:1}),l(n,{cols:"6"},{default:a(()=>[l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(bl),modelValue:o(X),"onUpdate:modelValue":e[7]||(e[7]=t=>m(X)?X.value=t:null),label:"Straatnaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(d,null,{default:a(()=>[l(n,{cols:"6"},{default:a(()=>[l(i,{"error-messages":o(yl),modelValue:o(Y),"onUpdate:modelValue":e[8]||(e[8]=t=>m(Y)?Y.value=t:null),label:"Huisnummer"},null,8,["error-messages","modelValue"])]),_:1}),l(n,{cols:"6"},{default:a(()=>[l(i,{"error-messages":o(wl),modelValue:o(Z),"onUpdate:modelValue":e[9]||(e[9]=t=>m(Z)?Z.value=t:null),label:"Toevoeging"},null,8,["error-messages","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":s.newPostalcodeErrors,modelValue:o(h),"onUpdate:modelValue":e[10]||(e[10]=t=>m(h)?h.value=t:null),label:"Postcode"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(kl),modelValue:o(ee),"onUpdate:modelValue":e[11]||(e[11]=t=>m(ee)?ee.value=t:null),label:"Plaats"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(Ul),modelValue:o(oe),"onUpdate:modelValue":e[12]||(e[12]=t=>m(oe)?oe.value=t:null),label:"KVK-nummer"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(Fl),modelValue:o(se),"onUpdate:modelValue":e[13]||(e[13]=t=>m(se)?se.value=t:null),label:"Btw-nummer"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(V,{"error-messages":o(xl),modelValue:o(le),"onUpdate:modelValue":e[14]||(e[14]=t=>m(le)?le.value=t:null),"return-object":"",items:ce.value,label:"Land"},null,8,["error-messages","modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),l(ke,null,{default:a(()=>[l(we),l(g,{color:"green-darken-1",variant:"text",onClick:e[15]||(e[15]=t=>{We(),D.value=!1,x.value=!1})},{default:a(()=>e[49]||(e[49]=[p(" Opslaan ")])),_:1,__:[49]}),l(g,{color:"green-darken-1",variant:"text",onClick:e[16]||(e[16]=t=>{D.value=!1,x.value=!1})},{default:a(()=>e[50]||(e[50]=[p(" Sluiten ")])),_:1,__:[50]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(xe,{modelValue:G.value,"onUpdate:modelValue":e[34]||(e[34]=t=>G.value=t),width:"800",persistent:""},{activator:a(({props:t})=>[l(ve,b(t,{value:"editcontact",key:"editcontact",color:"primary"}),{default:a(()=>[l(ie,{textContent:"Klant bewerken"})]),_:2},1040)]),default:a(()=>[l(pe,null,{default:a(()=>[l(ye,null,{default:a(()=>e[51]||(e[51]=[u("span",{class:"text-h5"},"Klant bewerken",-1)])),_:1,__:[51]}),l(fe,null,{default:a(()=>[u("form",null,[l(d,null,{default:a(()=>[l(n,{cols:"6"},{default:a(()=>[l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(el),modelValue:o(E),"onUpdate:modelValue":e[18]||(e[18]=t=>m(E)?E.value=t:null),label:"Bedrijfsnaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(Ye),modelValue:o(j),"onUpdate:modelValue":e[19]||(e[19]=t=>m(j)?j.value=t:null),label:"Voornaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{name:"affix","error-messages":o(Ze),modelValue:o(I),"onUpdate:modelValue":e[20]||(e[20]=t=>m(I)?I.value=t:null),label:"Tussenvoegsel"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(he),modelValue:o(S),"onUpdate:modelValue":e[21]||(e[21]=t=>m(S)?S.value=t:null),label:"Achternaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(il),modelValue:o(L),"onUpdate:modelValue":e[22]||(e[22]=t=>m(L)?L.value=t:null),label:"E-mail"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(ul),modelValue:o(K),"onUpdate:modelValue":e[23]||(e[23]=t=>m(K)?K.value=t:null),label:"Telefoon"},null,8,["error-messages","modelValue"])]),_:1})]),_:1})]),_:1}),l(n,{cols:"6"},{default:a(()=>[l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(ll),modelValue:o(M),"onUpdate:modelValue":e[24]||(e[24]=t=>m(M)?M.value=t:null),label:"Straatnaam"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(d,null,{default:a(()=>[l(n,{cols:"6"},{default:a(()=>[l(i,{"error-messages":o(al),modelValue:o(P),"onUpdate:modelValue":e[25]||(e[25]=t=>m(P)?P.value=t:null),label:"Huisnummer"},null,8,["error-messages","modelValue"])]),_:1}),l(n,{cols:"6"},{default:a(()=>[l(i,{"error-messages":o(tl),modelValue:o(B),"onUpdate:modelValue":e[26]||(e[26]=t=>m(B)?B.value=t:null),label:"Toevoeging"},null,8,["error-messages","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":s.postalcodeErrors,modelValue:o(T),"onUpdate:modelValue":e[27]||(e[27]=t=>m(T)?T.value=t:null),label:"Postcode"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(ol),modelValue:o(q),"onUpdate:modelValue":e[28]||(e[28]=t=>m(q)?q.value=t:null),label:"Plaats"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(fl),modelValue:o(R),"onUpdate:modelValue":e[29]||(e[29]=t=>m(R)?R.value=t:null),label:"KVK-nummer"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(i,{"error-messages":o(cl),modelValue:o(A),"onUpdate:modelValue":e[30]||(e[30]=t=>m(A)?A.value=t:null),label:"Btw-nummer"},null,8,["error-messages","modelValue"])]),_:1})]),_:1}),l(d,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[l(V,{"error-messages":o(sl),modelValue:o(J),"onUpdate:modelValue":e[31]||(e[31]=t=>m(J)?J.value=t:null),"return-object":"",items:ce.value,label:"Land"},null,8,["error-messages","modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),l(ke,null,{default:a(()=>[l(we),l(g,{color:"green-darken-1",variant:"text",onClick:e[32]||(e[32]=t=>{De(),G.value=!1,x.value=!1})},{default:a(()=>e[52]||(e[52]=[p(" Opslaan ")])),_:1,__:[52]}),l(g,{color:"green-darken-1",variant:"text",onClick:e[33]||(e[33]=t=>{G.value=!1,x.value=!1})},{default:a(()=>e[53]||(e[53]=[p(" Sluiten ")])),_:1,__:[53]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(O)?(w(),k("div",oa,[e[54]||(e[54]=u("strong",null,"Factuuradres:",-1)),o(E)?(w(),k("p",sa,f(o(E)),1)):Ne("",!0),u("p",null,f(o(j))+" "+f(o(I))+" "+f(o(S)),1),u("p",null,f(o(M))+" "+f(o(P))+" "+f(o(B)),1),u("p",null,f(o(T))+" "+f(o(q)),1),u("p",null,f(o(L)),1),u("p",null,f(o(K)),1),u("p",null,f(o(R)),1),u("p",null,f(o(A)),1)])):(w(),k("div",na,"Geen klant geselecteerd ")),u("div",ua,[p(" Factuurnummer: INV"+f(Ce.value),1),e[55]||(e[55]=u("br",null,null,-1)),e[56]||(e[56]=p(" Factuurdatum: maandag 5 november 2023")),e[57]||(e[57]=u("br",null,null,-1)),p(" Betaaltermijn: "+f(o(re))+" dagen",1),e[58]||(e[58]=u("br",null,null,-1)),e[59]||(e[59]=p(" Factuur gemaakt door: Mark")),e[60]||(e[60]=u("br",null,null,-1))]),l(i,{modelValue:o(re),"onUpdate:modelValue":e[36]||(e[36]=t=>m(re)?re.value=t:null),modelModifiers:{number:!0},class:"mt-5",variant:"outlined",label:"Betaaltermijn"},null,8,["modelValue"]),l(i,{modelValue:o(ge),"onUpdate:modelValue":e[37]||(e[37]=t=>m(ge)?ge.value=t:null),class:"",variant:"outlined",label:"Kenteken"},null,8,["modelValue"]),l(i,{modelValue:o(be),"onUpdate:modelValue":e[38]||(e[38]=t=>m(be)?be.value=t:null),class:"",variant:"outlined",label:"Automodel"},null,8,["modelValue"]),l(g,{class:"mt-4 text-white",color:"#2196f3",onClick:e[39]||(e[39]=t=>Ge())},{default:a(()=>e[61]||(e[61]=[p("Marge Factuur")])),_:1,__:[61]}),l(g,{class:"mt-3 text-white",color:"#66bb6a",type:"submit"},{default:a(()=>e[62]||(e[62]=[p("Opslaan")])),_:1,__:[62]}),l(g,{onClick:Bl},{default:a(()=>e[63]||(e[63]=[p("Foutopsporing")])),_:1,__:[63]})])])]),_:1,__:[64]}),l(n,null,{default:a(()=>[l(Al,{style:{border:"1px solid #ccc"},class:"mt-10 invoice-table"},{default:a(()=>[e[71]||(e[71]=u("div",{class:"flex-container header"},[u("div",{style:{"justify-content":"center",flex:"4"}},"Beschrijving"),u("div",null,"Aantal"),u("div",null,"Marge (%)"),u("div",null,"BTW tarief (%)"),u("div",null,"Prijs"),u("div",null,"Subtotaal"),u("div")],-1)),u("div",ra,[(w(!0),k(Xl,null,Ql(o(H),(t,y)=>(w(),k("div",{class:"flex-container",key:y},[u("div",da,[l(o(W),{modelValue:t.description,"onUpdate:modelValue":c=>t.description=c,class:"description-container",name:`items[${y}].description`,as:"div"},{default:a(({field:c})=>[u("textarea",b({ref_for:!0},c,{class:"item-description",placeholder:"Voer beschrijving in"}),null,16),l(o(ea),{class:"description-error",name:`items[${y}].description`},null,8,["name"])]),_:2},1032,["modelValue","onUpdate:modelValue","name"])]),l(o(W),b({style:{"align-self":"stretch"}},{ref_for:!0},t.quantity,{name:`items[${y}].quantity`,type:"number",onInput:de}),null,16,["name"]),l(o(W),b({style:{"align-self":"stretch"}},{ref_for:!0},t.margin,{name:`items[${y}].margin`,type:"number",step:"any",onInput:de}),null,16,["name"]),l(o(W),b({style:{"align-self":"stretch"}},{ref_for:!0},t.taxRate,{name:`items[${y}].taxRate`,type:"number",onInput:de}),null,16,["name"]),l(o(W),b({style:{"align-self":"stretch"}},{ref_for:!0},t.price,{name:`items[${y}].price`,type:"number",step:"any",onInput:de}),null,16,["name"]),u("div",ma,f(Kl(t)),1),l(n,{cols:"auto"},{default:a(()=>[l(Ae,{location:"start"},{activator:a(({props:c})=>[l(g,b({dark:""},{ref_for:!0},c),{default:a(()=>e[65]||(e[65]=[p(" Menu ")])),_:2,__:[65]},1040)]),default:a(()=>[l(Re,{lines:!1,density:"compact",nav:""},{default:a(()=>[l(xe,{modelValue:ne.value,"onUpdate:modelValue":e[44]||(e[44]=c=>ne.value=c),width:"800"},{activator:a(({props:c})=>[l(ve,b({ref_for:!0},c,{value:"load",key:"load",color:"primary"}),{default:a(()=>[l(ie,{textContent:"Product laden"})]),_:2},1040)]),default:a(()=>[l(pe,null,{default:a(()=>[l(ye,null,{default:a(()=>e[66]||(e[66]=[u("span",{class:"text-h5"},"Product laden",-1)])),_:1,__:[66]}),l(fe,null,{default:a(()=>[l(Rl,{label:"Product zoeken",items:$l.value,variant:"solo-filled",modelValue:s.product,"onUpdate:modelValue":[e[40]||(e[40]=c=>s.product=c),e[41]||(e[41]=c=>Pl())]},null,8,["items","modelValue"])]),_:1}),l(ke,null,{default:a(()=>[l(we),l(g,{color:"green-darken-1",variant:"text",onClick:e[42]||(e[42]=c=>ne.value=!1)},{default:a(()=>e[67]||(e[67]=[p(" Opslaan ")])),_:1,__:[67]}),l(g,{color:"green-darken-1",variant:"text",onClick:e[43]||(e[43]=c=>ne.value=!1)},{default:a(()=>e[68]||(e[68]=[p(" Sluiten ")])),_:1,__:[68]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(ve,{onClick:c=>o(Il)(y),value:"delete",key:"delete",color:"primary"},{default:a(()=>[l(ie,{textContent:"Verwijderen"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(Le,{style:{cursor:"pointer",width:"25px"},class:"handle"},{default:a(()=>e[69]||(e[69]=[p("custom:draghandleIcon")])),_:1,__:[69]})]))),128))]),l(g,{class:"ml-2 my-5 text-white",color:"#2196f3",onClick:e[45]||(e[45]=t=>o(Sl)({description:"",quantity:0,discount:0,taxRate:21,price:0,order:1}))},{default:a(()=>e[70]||(e[70]=[p("Nieuwe regel")])),_:1,__:[70]}),u("div",ia,[N.value?Ne("",!0):(w(),k("div",va,"Subtotaal: "+f(me(qe.value)),1)),N.value?Ne("",!0):(w(),k("div",fa,"BTW: "+f(me(Ke.value)),1)),u("div",pa,"Totaal: "+f(me(Ll.value)),1)])]),_:1,__:[71]})]),_:1})]),_:1})],32)]),_:1})]),_:1})]),_:1})}}},Xa=Ol(ca,[["__scopeId","data-v-bb3dbdca"],["__file","InvoiceNew.vue"]]);export{Xa as default};
