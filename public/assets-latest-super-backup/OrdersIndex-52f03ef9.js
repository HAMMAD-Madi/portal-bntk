import{_ as L,r,i as n,o as O,j as w,k as o,l,e as i,t as s,g as C}from"./app-6ea8fd2a.js";import{D}from"./datetime-9905d492.js";const V={__name:"OrdersIndex",setup($){const u=r(20),v=r([]),d=r(""),c=r(!1),p=r(0),f=r([{title:"Ordernummer",align:"start",key:"order_id"},{title:"Klantnaam",key:"fullname",align:"start",sortRaw(t,a){const _=`${t.contact.billing_firstname} ${t.contact.billing_lastname}`.toLowerCase(),m=`${a.contact.billing_firstname} ${a.contact.billing_lastname}`.toLowerCase();return _.localeCompare(m)}},{title:"Site",key:"site",align:"start"},{title:"Bezorgopties",key:"delivery_codes",align:"start"},{title:"Inleveren op",key:"latest_handover_datetime",align:"start"},{title:"Orderdatum",key:"order_date",align:"start"},{title:"Status",key:"status",align:"start"}]),y=async t=>{c.value=!0;const a=await C.get("/api/orders",{params:{...t}});v.value=a.data.data,p.value=a.data.total,c.value=!1},x=t=>t.join(", "),g=t=>t?D.fromISO(t).toFormat("dd-LL-yyyy 'om' HH:mm:ss"):"";return(t,a)=>{const _=n("v-text-field"),m=n("RouterLink"),k=n("v-data-table-server"),h=n("v-card-text"),b=n("v-card"),I=n("v-container");return O(),w(I,{fluid:""},{default:o(()=>[l(b,{class:"card z-index-2 h-100"},{default:o(()=>[l(h,{class:"card-body p-3"},{default:o(()=>[l(_,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),variant:"outlined",label:"Zoeken"},null,8,["modelValue"]),l(k,{"items-per-page":u.value,"onUpdate:itemsPerPage":a[1]||(a[1]=e=>u.value=e),headers:f.value,items:v.value,"items-length":p.value,loading:c.value,search:d.value,"item-value":"order_id","onUpdate:options":y},{"item.order_id":o(({item:e})=>[l(m,{to:`/orders/${e.order_id}`},{default:o(()=>[i(s(e.order_id),1)]),_:2},1032,["to"])]),"item.fullname":o(({item:e})=>[i(s(e.contact.billing_firstname)+" "+s(e.contact.billing_lastname),1)]),"item.delivery_codes":o(({item:e})=>[i(s(x(e.delivery_codes)),1)]),"item.order_date":o(({item:e})=>[i(s(g(e.order_date)),1)]),"item.latest_handover_datetime":o(({item:e})=>[i(s(g(e.latest_handover_datetime)),1)]),_:1},8,["items-per-page","headers","items","items-length","loading","search"])]),_:1})]),_:1})]),_:1})}}},S=L(V,[["__file","OrdersIndex.vue"]]);export{S as default};
