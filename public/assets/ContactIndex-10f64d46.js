import{_ as I,r as a,i as s,o as B,j as D,k as o,m as f,l as c,a as r,e as b,t as l}from"./app-be4f7d6f.js";import{D as w}from"./datetime-9905d492.js";const N=["onClick"],V={__name:"ContactIndex",setup(H){const i=a([]),g=a(null),m=a(0),d=a(!0),u=a(20),y=a([{title:"Klantnaam",key:"firstname"},{title:"Gemaakt op",key:"created_at"},{title:"Acties",key:""}]),x=t=>w.fromISO(t).toFormat("dd-LL-yyyy 'om' HH:mm:ss"),p=async({page:t,itemsPerPage:_,sortBy:v})=>{d.value=!0;const n=await f.get("/api/contacts",{params:{page:t}});i.value=n.data,m.value=n.data.total,d.value=!1};p({page:1,itemsPerPage:20,sortBy:!1});const k=async t=>{await f.delete("/api/contacts/"+t)};return(t,_)=>{const v=s("router-link"),n=s("v-data-table-server"),h=s("v-card-text"),C=s("v-card"),P=s("v-container");return B(),D(P,{fluid:""},{default:o(()=>[c(C,{class:"card z-index-2 h-100"},{default:o(()=>[c(h,{class:"card-body p-3"},{default:o(()=>[c(n,{"items-per-page":u.value,"onUpdate:itemsPerPage":_[0]||(_[0]=e=>u.value=e),headers:y.value,"items-length":m.value,items:i.value,loading:d.value,search:g.value,class:"elevation-1","onUpdate:options":p},{item:o(({item:e})=>[r("tr",null,[r("td",null,[c(v,{to:`/contact/${e.firstname}`},{default:o(()=>[b(l(e.firstname)+" "+l(e.affix)+" "+l(e.lastname),1)]),_:2},1032,["to"])]),r("td",null,l(x(e.created_at)),1),r("td",{class:"deleted",style:{color:"red"},onClick:L=>k(e.id)},"Delete",8,N)])]),_:1},8,["items-per-page","headers","items-length","items","loading","search"])]),_:1})]),_:1})]),_:1})}}},U=I(V,[["__file","ContactIndex.vue"]]);export{U as default};
