import{_ as G,r as v,s as H,i as n,o as y,j as I,k as t,m as p,l,e as r,a as u,c as N,f as J,F as K,t as f,x as O}from"./app-be4f7d6f.js";const P={__name:"LocationManagement",setup(Q){const w=v([]),i=v(!1),_=v(!1),m=v({}),a=v({id:null,name:"",code:"",description:""}),g=v(null),x=async()=>{try{const s=await p.get("/api/stock-locations");w.value=s.data}catch(s){console.error("Error loading locations:",s)}},U=s=>{a.value={...s},i.value=!0},A=s=>{g.value=s,_.value=!0},B=()=>{a.value={id:null,name:"",code:"",description:""},i.value=!0},L=async()=>{var s,e;try{a.value.id?await p.put(`/api/stock-locations/${a.value.id}`,a.value):await p.post("/api/stock-locations",a.value),await x(),i.value=!1,a.value={id:null,name:"",code:"",description:""},m.value={}}catch(c){(e=(s=c.response)==null?void 0:s.data)!=null&&e.errors&&(m.value=c.response.data.errors)}},E=async()=>{try{await p.delete(`/api/stock-locations/${g.value.id}`),await x(),_.value=!1,g.value=null}catch(s){console.error("Error deleting location:",s)}};return H(()=>{x()}),(s,e)=>{const c=n("v-spacer"),d=n("v-btn"),V=n("v-card-title"),b=n("v-icon"),z=n("v-btn-group"),S=n("v-table"),k=n("v-card-text"),C=n("v-card"),D=n("v-text-field"),q=n("v-textarea"),F=n("v-form"),$=n("v-card-actions"),M=n("v-dialog"),T=n("v-container");return y(),I(T,{fluid:""},{default:t(()=>[l(C,{class:"card z-index-2 h-100"},{default:t(()=>[l(V,{class:"d-flex align-center"},{default:t(()=>[e[8]||(e[8]=r(" Voorraad Locaties ")),l(c),l(d,{class:"btn-primary",onClick:B},{default:t(()=>e[7]||(e[7]=[r(" Add Location ")])),_:1,__:[7]})]),_:1,__:[8]}),l(k,null,{default:t(()=>[l(S,null,{default:t(()=>[e[11]||(e[11]=u("thead",null,[u("tr",null,[u("th",null,"Name"),u("th",null,"Code"),u("th",null,"Description"),u("th",null,"Actions")])],-1)),u("tbody",null,[(y(!0),N(K,null,J(w.value,o=>(y(),N("tr",{key:o.id},[u("td",null,f(o.name),1),u("td",null,f(o.code),1),u("td",null,f(o.description),1),u("td",null,[l(z,null,{default:t(()=>[l(d,{size:"small",icon:"",onClick:j=>U(o)},{default:t(()=>[l(b,{class:"text-secondary"},{default:t(()=>e[9]||(e[9]=[r("fa-pencil")])),_:1,__:[9]})]),_:2},1032,["onClick"]),l(d,{size:"small",icon:"",onClick:j=>A(o)},{default:t(()=>[l(b,{class:"text-danger"},{default:t(()=>e[10]||(e[10]=[r("fa-trash")])),_:1,__:[10]})]),_:2},1032,["onClick"])]),_:2},1024)])]))),128))])]),_:1,__:[11]})]),_:1})]),_:1}),l(M,{modelValue:i.value,"onUpdate:modelValue":e[4]||(e[4]=o=>i.value=o),"max-width":"500px"},{default:t(()=>[l(C,null,{default:t(()=>[l(V,null,{default:t(()=>[r(f(a.value.id?"Edit":"Add")+" Location",1)]),_:1}),l(k,null,{default:t(()=>[l(F,{onSubmit:O(L,["prevent"])},{default:t(()=>[l(D,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.name=o),label:"Name","error-messages":m.value.name,required:""},null,8,["modelValue","error-messages"]),l(D,{modelValue:a.value.code,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.code=o),label:"Code","error-messages":m.value.code,required:""},null,8,["modelValue","error-messages"]),l(q,{modelValue:a.value.description,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.description=o),label:"Description","error-messages":m.value.description},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),l($,null,{default:t(()=>[l(c),l(d,{text:"",onClick:e[3]||(e[3]=o=>i.value=!1)},{default:t(()=>e[12]||(e[12]=[r("Cancel")])),_:1,__:[12]}),l(d,{color:"primary",onClick:L},{default:t(()=>e[13]||(e[13]=[r("Save")])),_:1,__:[13]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(M,{modelValue:_.value,"onUpdate:modelValue":e[6]||(e[6]=o=>_.value=o),"max-width":"400px"},{default:t(()=>[l(C,null,{default:t(()=>[l(V,null,{default:t(()=>e[14]||(e[14]=[r("Confirm Delete")])),_:1,__:[14]}),l(k,null,{default:t(()=>e[15]||(e[15]=[r(" Are you sure you want to delete this location? ")])),_:1,__:[15]}),l($,null,{default:t(()=>[l(c),l(d,{text:"",onClick:e[5]||(e[5]=o=>_.value=!1)},{default:t(()=>e[16]||(e[16]=[r("Cancel")])),_:1,__:[16]}),l(d,{color:"error",onClick:E},{default:t(()=>e[17]||(e[17]=[r("Delete")])),_:1,__:[17]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},W=G(P,[["__file","LocationManagement.vue"]]);export{W as default};
